<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="cadastro.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
    <title>Cadastro - Future4</title>

    <script>

        function buscaItem(chave) {
            const valor = window.localStorage.getItem(chave);
            if (valor) {
                return JSON.parse(valor);
            }
            return [];
        }

        function salvaItem(chave, item) {
            if (item && chave) {
                window.localStorage.setItem(chave, JSON.stringify(item));
            }
        }

        let cadastrados = [];        

        function cadastrar(){
            const aluno = {
                nome: document.getElementById("nome").value,
                idade: document.getElementById("idade").value,
                email: document.getElementById("email").value,
                telefone: document.getElementById("telefone").value
            }
            
            // buscar antes de atualizar:
            cadastrados = buscaItem("alunos");
            // acrescentar item:
            cadastrados.push(aluno);
            // salvar já atualizado, com o item novo:
            salvaItem("alunos", cadastrados);
            console.log("Cadastrados", cadastrados);
            limpaCampos();
        }

        function limpaCampos(){
            document.getElementById("nome").value = "";
            document.getElementById("idade").value = "";
            document.getElementById("email").value = "";
            document.getElementById("telefone").value = "";
        }

        function carregaPagina(){
            location.href="inscritos.html";
        }

    </script>

</head>
<body>
    <div class="container">
        <header>
            <h1>Formulário de Inscrição - Future4</h1>
        </header>        
        <section class="formulario">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" placeholder="Digite seu nome">
            <label for="nome">Idade:</label>
            <input type="text" id="idade" placeholder="Digite sua idade">
            <label for="email">E-mail:</label>        
            <input type="email" id="email" placeholder="Digite seu e-mail" required>
            <label for="nome">Contato:</label>
            <input type="text" id="telefone" placeholder="Digite seu telefone">
            <div class="botoes">
                <button onclick="cadastrar()">Cadastrar</button>
                <button onclick="carregaPagina()">Inscritos</button>
            </div>
        </section>        
    </div>        
</body>
</html>